# Photo Recipe 项目更新日志

## 版本 v2.1 - GitHub Pages 部署配置 - 2025年1月8日 04:16

### 新增功能：GitHub Pages 自动部署

**部署配置详情：**
- 配置了 GitHub Pages 自动部署功能
- 支持通过 https://yangjizhou99.github.io/gptapp/ 访问项目
- 实现了完整的 CI/CD 部署流程

**技术实现：**

1. **Vite 配置优化**
   - 设置 `base: '/gptapp/'` 用于 GitHub Pages 项目页面
   - 配置 `outDir: 'docs'` 输出构建文件到 docs 文件夹
   - 确保资源路径在 GitHub Pages 环境下正确工作

2. **GitHub Actions 工作流**
   - 创建 `.github/workflows/deploy.yml` 自动部署工作流
   - 配置自动构建、测试和部署流程
   - 支持推送到 main 分支时自动触发部署

3. **部署方案**
   - 采用 docs 文件夹部署方案（更稳定可靠）
   - 构建产物直接输出到 docs/ 目录
   - GitHub Pages 直接从 docs 文件夹服务静态文件

**配置文件更新：**
- `vite.config.ts`: 添加 base 路径和输出目录配置
- `.github/workflows/deploy.yml`: 新增 GitHub Actions 部署工作流
- `docs/`: 新增构建输出目录

**使用说明：**
1. 在 GitHub 仓库设置中启用 Pages
2. 选择 "Deploy from a branch" -> "main" -> "/ docs"
3. 保存设置后即可通过 GitHub Pages URL 访问项目

**版本标识：**
- Git 提交：2b1f638 "feat: switch to docs folder deployment for GitHub Pages"
- 部署状态：已配置完成，等待用户启用 GitHub Pages

---

## 版本回滚 - 2025年1月8日 03:33

### 操作记录：回滚到任务开始前版本

**回滚原因：**
用户要求回滚到实现"点击预览⇄主视图互换"功能之前的版本

**回滚详情：**
- 从提交 cf8945b 回滚到 e645d5a
- 移除了所有视图切换相关功能
- 恢复到原始的ThreeStage组件和App组件
- 保持原有的基础功能：三段人像、相机控制、对准点设置等

**当前版本状态：**
- Git提交：e645d5a "Reverted transformation control module implementation"
- 功能：基础的3D场景编辑和预览功能
- 无视图切换功能

**回滚命令：**
```bash
git reset --hard e645d5a
git push --force
```

---

## 历史版本

### 版本 v2.0 - 基础功能
- 三段人像显示
- 相机控制系统
- 对准点设置
- 模板系统
- 导入导出功能
- 控制模式和辅助显示

---

更新时间：2025年1月8日 03:33 (UTC+9)
更新人员：AI助手
项目仓库：https://github.com/yangjizhou99/gptapp.git
